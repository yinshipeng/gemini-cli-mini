# Gemini CLI Mini

ä¸€ä¸ªæç®€ç‰ˆçš„Gemini CLIå·¥å…·ï¼Œç”¨äºå­¦ä¹ å’Œç†è§£ç°ä»£AI CLIå·¥å…·çš„æ ¸å¿ƒæ¶æ„ã€‚

## ğŸš€ é¡¹ç›®å®šä½

è¿™ä¸ªé¡¹ç›®çš„ç›®çš„æ˜¯ï¼š**ç”¨æœ€å°çš„ä»£ç é‡å±•ç¤ºGemini CLIçš„æ ¸å¿ƒæ¶æ„æ¨¡å¼**

- **ä»£ç è¡Œæ•°**: < 500è¡Œæ ¸å¿ƒä»£ç 
- **æ ¸å¿ƒåŠŸèƒ½**: å®Œæ•´ä¿ç•™åŸç‰ˆç²¾é«“
- **å­¦ä¹ ä»·å€¼**: ç†è§£AI CLIå·¥å…·çš„è®¾è®¡æ¨¡å¼

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

### 1. ä¸‰å±‚æ¶æ„æ¨¡å‹
```
gemini-cli-mini/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ cli.js          # å…¥å£å±‚ï¼šå‘½ä»¤è¡Œäº¤äº’
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ client.js   # æ ¸å¿ƒå±‚ï¼šAIå®¢æˆ·ç«¯ã€å¯¹è¯ç®¡ç†
â”‚   â””â”€â”€ tools/          # å·¥å…·å±‚ï¼šæ–‡ä»¶æ“ä½œã€è®°å¿†å­˜å‚¨
â”œâ”€â”€ docs/               # æ¶æ„æ–‡æ¡£
â””â”€â”€ package.json
```

## ğŸ“š æ¶æ„å­¦ä¹ è¦ç‚¹

### 1. å®¢æˆ·ç«¯è®¾è®¡ (src/core/client.js)
- **ä¼šè¯ç®¡ç†**: `startChat()` -> `processMessage()` -> å¾ªç¯
- **çŠ¶æ€å‹ç¼©**: ç®€åŒ–ç‰ˆå¯¹è¯å†å²ç®¡ç†
- **å·¥å…·é›†æˆ**: è‡ªåŠ¨å‘ç°å’Œä½¿ç”¨å·¥å…·

### 2. å·¥å…·ç³»ç»Ÿè®¾è®¡ (src/tools/)
- **ç»Ÿä¸€æ¥å£**: æ‰€æœ‰å·¥å…·å®ç°ç›¸åŒçš„`execute()`æ–¹æ³•
- **åŠ¨æ€æ³¨å†Œ**: `ToolRegistry`ç®¡ç†æ‰€æœ‰å¯ç”¨å·¥å…·
- **å‚æ•°éªŒè¯**: JSON Schemaå®šä¹‰å·¥å…·å‚æ•°

### 3. è®°å¿†ç³»ç»Ÿè®¾è®¡ (src/tools/memory.js)
- **å­˜å‚¨æ ¼å¼**: Markdownæ–‡ä»¶ï¼Œæ˜“äºé˜…è¯»å’Œç¼–è¾‘
- **è¿½åŠ æ¨¡å¼**: æ–°è®°å¿†æ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾
- **ç”¨æˆ·éš”ç¦»**: æ¯ä¸ªç”¨æˆ·ç‹¬ç«‹çš„è®°å¿†æ–‡ä»¶

### 4. æµå¼å¤„ç†
- **å®æ—¶å“åº”**: é€å­—æ˜¾ç¤ºAIå›å¤
- **ä¸­æ–­å¤„ç†**: æ”¯æŒCtrl+Cä¸­æ–­
- **é”™è¯¯æ¢å¤**: ä¼˜é›…å¤„ç†ç½‘ç»œ/APIé”™è¯¯

## ğŸ“ å­¦ä¹ è·¯å¾„

### é˜¶æ®µ1ï¼šç†è§£åŸºç¡€æ¶æ„ (30åˆ†é’Ÿ)
1. é˜…è¯» `src/cli.js` - ç†è§£å‘½ä»¤è¡Œå…¥å£
2. ç†è§£ `MiniGeminiClient` çš„ç”Ÿå‘½å‘¨æœŸ
3. è¿è¡Œæ¼”ç¤ºï¼š`npm start demo`

### é˜¶æ®µ2ï¼šæ·±å…¥å·¥å…·ç³»ç»Ÿ (20åˆ†é’Ÿ)
1. åˆ†æ `ToolRegistry` çš„è®¾è®¡æ¨¡å¼
2. æŸ¥çœ‹å…·ä½“å·¥å…·å®ç° (`ReadFileTool`, `WriteFileTool`)
3. å°è¯•æ·»åŠ æ–°å·¥å…·

### é˜¶æ®µ3ï¼šç†è§£è®°å¿†ç³»ç»Ÿ (15åˆ†é’Ÿ)
1. æŸ¥çœ‹ `MemoryTool` çš„å®ç°
2. ç†è§£ `~/.gemini-mini/memory.md` çš„æ ¼å¼
3. æµ‹è¯•è®°å¿†åŠŸèƒ½

### é˜¶æ®µ4ï¼šé€’å½’æ€è€ƒæœºåˆ¶ (15åˆ†é’Ÿ)
1. ç†è§£ `shouldContinue` æ ‡å¿—çš„ä½œç”¨
2. è§‚å¯Ÿé€’å½’è°ƒç”¨çš„æµç¨‹
3. æ€è€ƒå¦‚ä½•æ‰©å±•åˆ°çœŸå®åœºæ™¯

## ğŸ› ï¸ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°å·¥å…·
```javascript
// src/tools/your-tool.js
export class YourTool {
    name = 'your_tool';
    description = 'What this tool does';
    schema = { /* JSON Schema */ };
    
    async execute(params) {
        // å®ç°å·¥å…·é€»è¾‘
    }
}

// åœ¨client.jsä¸­æ³¨å†Œ
this.toolRegistry.registerTool(new YourTool());
```

### é›†æˆçœŸå®Gemini API
```javascript
// æ›¿æ¢client.jsä¸­çš„callGeminiAPIæ–¹æ³•
async callGeminiAPI(message) {
    const { GoogleGenerativeAI } = await import('@google/generative-ai');
    const genAI = new GoogleGenerativeAI(this.config.apiKey);
    const model = genAI.getGenerativeModel({ model: 'gemini-pro' });
    
    const result = await model.generateContent(this.buildPrompt(message));
    return {
        text: result.response.text(),
        shouldContinue: this.shouldContinue(result.response.text())
    };
}
```

## ğŸ“– æ¶æ„æ€»ç»“

**Gemini CLI Mini** å±•ç¤ºäº†ç°ä»£AI CLIå·¥å…·çš„æ ¸å¿ƒè®¾è®¡æ¨¡å¼ï¼š

1. **åˆ†å±‚æ¶æ„**: CLI â†’ æ ¸å¿ƒé€»è¾‘ â†’ å·¥å…·ç³»ç»Ÿ â†’ æŒä¹…åŒ–
2. **æ’ä»¶åŒ–è®¾è®¡**: å·¥å…·å¯çƒ­æ’æ‹”
3. **çŠ¶æ€ç®¡ç†**: å¯¹è¯å†å²å’Œç”¨æˆ·è®°å¿†
4. **æµå¼å¤„ç†**: å®æ—¶å“åº”å’Œé€’å½’æ€è€ƒ
5. **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„å¤±è´¥æ¢å¤

è¿™ä¸ªé¡¹ç›®è™½ç„¶å°å·§ï¼Œä½†åŒ…å«äº†**ç”Ÿäº§çº§AI CLIå·¥å…·**çš„æ‰€æœ‰å…³é”®è¦ç´ ï¼Œæ˜¯å­¦ä¹ ç°ä»£AIåº”ç”¨æ¶æ„çš„ç†æƒ³èµ·ç‚¹ã€‚